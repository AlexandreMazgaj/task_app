<link href='https://fonts.googleapis.com/css?family=Architects+Daughter|Bungee|Handlee|Permanent+Marker&v1' rel='stylesheet' type='text/css'>

<body>

<!--
  The first div is used to for the input, used to create a new task
  with the onkeypress attribute, the key enter can be pressed to add a task
  the button will call the function add() that will create a new task
-->

<div class="col-md-12 col-sm-12 text-center pull-right-3">
  <div class="col-md-12">
    <input id="inputNew" #taskName class="input-md"
      type = "text"
      onkeypress="if (event.which==13) document.getElementById('buttnew').click()"
      placeholder="{{'TASKDISPLAY.NEWTASK' | translate}}"
      tabindex="1"/>
    <button id="buttnew" class="btn btn-md btn-circle positive"
    (click)="add(taskName.value); taskName.value=''">
      <span class="glyphicon glyphicon-plus-sign"></span>
    </button>
  </div>


<!--
  This div is used for the list of task, I created two lists, one for the
  checkboxes and one for the name of the tasks
-->
<div class="col-md-12">
    <ul id="ulc" class="task list-group col-md-2">
      <li *ngFor="let task of tasks" class="list-group-item">
        <!-- Everytime we click on a check box it will update the "done" attribute of the task-->
          <input  type="checkbox" (click)="updateDoneTask(task); checkDone(0)" [(ngModel)]="task.done">
      </li>
    </ul>

<!--
  In this list I binded the task clicked on to the attribut "selectedTask"
 The name of the task is striked when is "done" attribute true
-->
    <ul class="tasks list-group col-md-10 text-left">
      
        <li id="taskList" *ngFor="let task of tasks" class="list-group-item" 
          [class.selected]="task === selectedTask" (click)="onSelect(task)" 
          (keyup.enter)="onSelect(task)" tabindex="2">

            <span id="showName" class="col-md-2-push-1">
                  <div *ngIf="task.done == true">
                    <del><p>{{task.name}}<p></del>
                  </div>
                  <div *ngIf="task.done == false">
                    <p>{{task.name}}</p>
                  </div>
            </span>

            <!-- this div is used to edit the task, it display the button and
                input to be able to edit the task
          -->
            <div class="butt" *ngIf="selectedTask == task">
              <input id="edit" class="input-sm" [(ngModel)]="task.name" 
                onkeypress="if (event.which==13) document.getElementById('buttsave').click()" 
                placeholder="{{task.name}}">

              <button id="deleteTask" class="btn btn-circle negative" 
                (click)="deleteTask(task); $event.stopPropagation()">
                <span class="glyphicon glyphicon-trash"></span>
              </button>

              <button id="buttsave" class="btn  btn-circle positive" (click)="save(task)">
                <span class="glyphicon glyphicon-pencil"></span>
              </button>
            </div>
          </li>
      </ul>
    </div>
</div>

</body>
